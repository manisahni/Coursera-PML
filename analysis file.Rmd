---
title: "Assignment rmd file"
output: html_document
---

#Reading in the data from the dropbox folder

```{r reading in the data}
setwd("~/Dropbox/CourseraPML")

training <- read.csv("~/Dropbox/CourseraPML/pml-training.csv", stringsAsFactors=FALSE,na.strings=c("NA","#DIV/0!",""))
testing <- read.csv("~/Dropbox/CourseraPML/pml-testing.csv", stringsAsFactors=FALSE,na.strings=c("NA","#DIV/0!",""))

dim(training)
```

# Partioning the training set into two
Partioning Training data set into two data sets,80% myTraining, 20% for myTesting:


```{r }
library(caret)
part <- createDataPartition(training$classe,p=.8,list=FALSE) ## create a partion index
mytraining <- training[part,] ; mytesting <- training[-part,] 

```

# Cleaning the data

Methods for cleaning and preparing the data for model training:
Remove catagorical variables from dataset including “X”, “user_name”, “raw_timestamp_part_1”, “raw_timestamp_part_2”, “cvtd_timestamp”, “new_window”, “num_window”.
Remove any features that have little variance or information value using nearZeroVar().
Remove columns with NA values in them.
Look at the correlation of the remaining attributes and decide whether they need to be reduced further.
```{r}
library(dplyr) 
mytraining <- mytraining[,-c(1:7)] #Remove catagorical variables 

nzv_list <- as.data.frame(nearZeroVar(mytraining, saveMetrics=TRUE))
remaining <- nzv_list[which(nzv_list$nzv==FALSE),]
df_all_var <- subset(mytraining, select=rownames(remaining))

df_all_var[ , colSums(is.na(df_all_var)) == 0)
# Remove Columsn with NAs
df_rm_na <- df_all_var[ , colSums(is.na(df_all_var)) == 0]
# Find Correlated variables 
df_corr <- cor(subset(df_rm_na, select=-classe))

```

